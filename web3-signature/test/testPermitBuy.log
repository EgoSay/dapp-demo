No files changed, compilation skipped

Ran 1 test for test/PermitNFTMarketTest.sol:PermitNFTMarketTest
[PASS] testPermitBuyNFT() (gas: 486855)
Logs:
  order check is ok
  0xca78a4ea95f29a61f4343141c2eec5bef3c8efe3d95ea9f0f515cf41d8f96d3d
  0xca78a4ea95f29a61f4343141c2eec5bef3c8efe3d95ea9f0f515cf41d8f96d3d
  wl  check is ok
  order check is ok
  transfer nft success

Traces:
  [491068] PermitNFTMarketTest::testPermitBuyNFT()
    ├─ [237] PermitNFT::getPermitTypehash() [staticcall]
    │   └─ ← [Return] 0x9d0643db7c39c72bf1738190be391ba088e8064cc95d8b7e8acfb85f0b7864a1
    ├─ [637] PermitNFT::getHashData(0xdbb215abe34953d5ec38e9175e09eeacd96dc3fa376e5a9faf7520e09cc21a13) [staticcall]
    │   └─ ← [Return] 0x2af8fbd4015d1835536dcecb1a333812b30bb958e4b5d49292b941d32fa20af2
    ├─ [0] VM::sign("<pk>", 0x2af8fbd4015d1835536dcecb1a333812b30bb958e4b5d49292b941d32fa20af2) [staticcall]
    │   └─ ← [Return] 28, 0x04a1795f9a2b4aa14210b4814d1397ad879b11a0a4cc2820d7ccc43de7fdd315, 0x7d51051d104d756b0927c8d11f077b4a35ea79eaf5ba8f60dab4d75b529da036
    ├─ [0] VM::startPrank(0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F)
    │   └─ ← [Return] 
    ├─ [183640] PermitNFTMarket::list(PermitNFT: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], 181, PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], 888000000000000000000 [8.88e20], 86401 [8.64e4], 0x04a1795f9a2b4aa14210b4814d1397ad879b11a0a4cc2820d7ccc43de7fdd3157d51051d104d756b0927c8d11f077b4a35ea79eaf5ba8f60dab4d75b529da0361c)
    │   ├─ [2349] PermitERC20Token::totalSupply() [staticcall]
    │   │   └─ ← [Return] 10000000000000000000000 [1e22]
    │   ├─ [11786] PermitNFT::permit(181, PermitNFTMarket: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 86401 [8.64e4], 28, 0x04a1795f9a2b4aa14210b4814d1397ad879b11a0a4cc2820d7ccc43de7fdd315, 0x7d51051d104d756b0927c8d11f077b4a35ea79eaf5ba8f60dab4d75b529da036)
    │   │   ├─ [3000] PRECOMPILES::ecrecover(0x2af8fbd4015d1835536dcecb1a333812b30bb958e4b5d49292b941d32fa20af2, 28, 2094551460501182484682847237839095656449101398085308989123408165307158483733, 56682255977442396290600160482451937257914923228580211393184781951022705516598) [staticcall]
    │   │   │   └─ ← [Return] 0x000000000000000000000000b0dece62711c7ffaf0b6564f3798174c2a19048f
    │   │   ├─ emit Approval(owner: 0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F, approved: PermitNFTMarket: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 181)
    │   │   └─ ← [Stop] 
    │   ├─ [0] console::log("order check is ok") [staticcall]
    │   │   └─ ← [Stop] 
    │   ├─ [664] PermitNFT::ownerOf(181) [staticcall]
    │   │   └─ ← [Return] 0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F
    │   ├─ [844] PermitNFT::getApproved(181) [staticcall]
    │   │   └─ ← [Return] PermitNFTMarket: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a]
    │   ├─ emit NFTListed(nft: PermitNFT: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], tokenId: 181, orderId: 0xc5a9323988dcb56f9a8fe27a981b02879213c29a512190d5812ae3524f56b42f, seller: 0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F, payToken: PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], price: 888000000000000000000 [8.88e20], deadline: 86401 [8.64e4])
    │   └─ ← [Return] true
    ├─ [0] VM::assertTrue(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::stopPrank()
    │   └─ ← [Return] 
    ├─ [282] PermitNFTMarket::getPermitTypehash() [staticcall]
    │   └─ ← [Return] 0xcc9a47b9f9b3b950532a63f3939530bc1ef7367797972a14d08e7851051b5f75
    ├─ [593] PermitNFTMarket::getHashData(0x22b0e8c57283599cc4f364854cb5f588494af1bd1147bfbfa490a5749ca4e661) [staticcall]
    │   └─ ← [Return] 0xca78a4ea95f29a61f4343141c2eec5bef3c8efe3d95ea9f0f515cf41d8f96d3d
    ├─ [0] console::log(0xca78a4ea95f29a61f4343141c2eec5bef3c8efe3d95ea9f0f515cf41d8f96d3d) [staticcall]
    │   └─ ← [Stop] 
    ├─ [0] VM::sign("<pk>", 0xca78a4ea95f29a61f4343141c2eec5bef3c8efe3d95ea9f0f515cf41d8f96d3d) [staticcall]
    │   └─ ← [Return] 27, 0x3c500cf4836ecf5a5cc34ec12cffa05cc8010286f209dafd15ec2f8e2d2f35b5, 0x5fe37ead2db85863fbccffd15d389f5e410b5e70b389b4242a8227cd799550c7
    ├─ [2616] PermitERC20Token::nonces(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 0
    ├─ [304] PermitERC20Token::getPermitTypehash() [staticcall]
    │   └─ ← [Return] 0x6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9
    ├─ [659] PermitERC20Token::getHashData(0x022238baf8d699d359dc65c386cebb4a92bcd63f9b578e9a24374e0424be2aa7) [staticcall]
    │   └─ ← [Return] 0xbb21da161cf3d13a4f3f3a3cd836be0763f3433b10075f064a17768b30429b2e
    ├─ [0] VM::sign("<pk>", 0xbb21da161cf3d13a4f3f3a3cd836be0763f3433b10075f064a17768b30429b2e) [staticcall]
    │   └─ ← [Return] 28, 0x55888b5063fe4a04540937aa8b5d9b4cea2aa5c73668d3755eaa98954ae0d49e, 0x45136e86bbda176378a7601a9d3f75d92d9c35c003f2f49c328ecc4344068cf8
    ├─ [2651] PermitERC20Token::balanceOf(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] VM::record()
    │   └─ ← [Return] 
    ├─ [651] PermitERC20Token::balanceOf(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] VM::accesses(PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b])
    │   └─ ← [Return] [0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f], []
    ├─ [0] VM::load(PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], 0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    ├─ emit WARNING_UninitedSlot(who: PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], slot: 43508912969991293308112693659711921982157914794699823470690570299717412546847 [4.35e76])
    ├─ [0] VM::load(PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], 0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    ├─ [651] PermitERC20Token::balanceOf(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] VM::store(PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], 0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f, 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff)
    │   └─ ← [Return] 
    ├─ [651] PermitERC20Token::balanceOf(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77]
    ├─ [0] VM::store(PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], 0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f, 0x0000000000000000000000000000000000000000000000000000000000000000)
    │   └─ ← [Return] 
    ├─ emit SlotFound(who: PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], fsig: 0x70a0823100000000000000000000000000000000000000000000000000000000, keysHash: 0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f, slot: 43508912969991293308112693659711921982157914794699823470690570299717412546847 [4.35e76])
    ├─ [0] VM::load(PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], 0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f) [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    ├─ [0] VM::store(PermitERC20Token: [0x2e234DAe75C793f67A35089C9d99245E1C58470b], 0x60312c0bfaeb640a59d7d722d37d2ea9785bf6b62594db3f1e847e5ebc29691f, 0x00000000000000000000000000000000000000000000003635c9adc5dea00000)
    │   └─ ← [Return] 
    ├─ [651] PermitERC20Token::balanceOf(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 1000000000000000000000 [1e21]
    ├─ [0] VM::deal(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, 1000000000000000000000 [1e21])
    │   └─ ← [Return] 
    ├─ [0] VM::startPrank(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4)
    │   └─ ← [Return] 
    ├─ [141917] PermitNFTMarket::permitBuy(PermitNFT: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], 181, 0x3c500cf4836ecf5a5cc34ec12cffa05cc8010286f209dafd15ec2f8e2d2f35b55fe37ead2db85863fbccffd15d389f5e410b5e70b389b4242a8227cd799550c71b, 0x04a1795f9a2b4aa14210b4814d1397ad879b11a0a4cc2820d7ccc43de7fdd3157d51051d104d756b0927c8d11f077b4a35ea79eaf5ba8f60dab4d75b529da0361c, 0x55888b5063fe4a04540937aa8b5d9b4cea2aa5c73668d3755eaa98954ae0d49e45136e86bbda176378a7601a9d3f75d92d9c35c003f2f49c328ecc4344068cf81c)
    │   ├─ [0] console::log(0xca78a4ea95f29a61f4343141c2eec5bef3c8efe3d95ea9f0f515cf41d8f96d3d) [staticcall]
    │   │   └─ ← [Stop] 
    │   ├─ [3000] PRECOMPILES::ecrecover(0xca78a4ea95f29a61f4343141c2eec5bef3c8efe3d95ea9f0f515cf41d8f96d3d, 27, 27280208093202897107583855137817817553704896642433300059102417839628275889589, 43371669188040357539256057604216136676147049201321722713840645371140131606727) [staticcall]
    │   │   └─ ← [Return] 0x00000000000000000000000074c928b3684cb8bbb057ab3bf03ed1ecea233626
    │   ├─ [0] console::log("wl  check is ok") [staticcall]
    │   │   └─ ← [Stop] 
    │   ├─ [7786] PermitNFT::permit(181, PermitNFTMarket: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 86401 [8.64e4], 28, 0x04a1795f9a2b4aa14210b4814d1397ad879b11a0a4cc2820d7ccc43de7fdd315, 0x7d51051d104d756b0927c8d11f077b4a35ea79eaf5ba8f60dab4d75b529da036)
    │   │   ├─ [3000] PRECOMPILES::ecrecover(0x2af8fbd4015d1835536dcecb1a333812b30bb958e4b5d49292b941d32fa20af2, 28, 2094551460501182484682847237839095656449101398085308989123408165307158483733, 56682255977442396290600160482451937257914923228580211393184781951022705516598) [staticcall]
    │   │   │   └─ ← [Return] 0x000000000000000000000000b0dece62711c7ffaf0b6564f3798174c2a19048f
    │   │   ├─ emit Approval(owner: 0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F, approved: PermitNFTMarket: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 181)
    │   │   └─ ← [Stop] 
    │   ├─ [0] console::log("order check is ok") [staticcall]
    │   │   └─ ← [Stop] 
    │   ├─ [49462] PermitERC20Token::permit(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, PermitNFTMarket: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 888000000000000000000 [8.88e20], 86401 [8.64e4], 28, 0x55888b5063fe4a04540937aa8b5d9b4cea2aa5c73668d3755eaa98954ae0d49e, 0x45136e86bbda176378a7601a9d3f75d92d9c35c003f2f49c328ecc4344068cf8)
    │   │   ├─ [3000] PRECOMPILES::ecrecover(0xbb21da161cf3d13a4f3f3a3cd836be0763f3433b10075f064a17768b30429b2e, 28, 38687844840455965896134816117150306603488734014321842380311404366500290679966, 31243919470990286584584512233459053032861640235204381598949318504361381760248) [staticcall]
    │   │   │   └─ ← [Return] 0x0000000000000000000000004d003b0a02a79a3f6a068b4842dd1bce038a4cd4
    │   │   ├─ emit Approval(owner: 0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, spender: PermitNFTMarket: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], value: 888000000000000000000 [8.88e20])
    │   │   └─ ← [Stop] 
    │   ├─ [39602] PermitNFT::safeTransferFrom(0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F, 0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, 181)
    │   │   ├─ emit Transfer(from: 0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F, to: 0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, tokenId: 181)
    │   │   └─ ← [Stop] 
    │   ├─ [0] console::log("transfer nft success") [staticcall]
    │   │   └─ ← [Stop] 
    │   ├─ [26085] PermitERC20Token::transferFrom(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, 0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F, 888000000000000000000 [8.88e20])
    │   │   ├─ emit Transfer(from: 0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, to: 0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F, value: 888000000000000000000 [8.88e20])
    │   │   └─ ← [Return] true
    │   ├─ emit NFTBought(buyer: 0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, nftContract: PermitNFT: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], tokenId: 181, price: 888000000000000000000 [8.88e20])
    │   └─ ← [Return] true
    ├─ [0] VM::assertTrue(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::stopPrank()
    │   └─ ← [Return] 
    ├─ [664] PermitNFT::ownerOf(181) [staticcall]
    │   └─ ← [Return] 0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4
    ├─ [0] VM::assertEq(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4, 0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 
    ├─ [651] PermitERC20Token::balanceOf(0x4d003b0a02A79a3f6A068B4842dD1BCE038A4Cd4) [staticcall]
    │   └─ ← [Return] 112000000000000000000 [1.12e20]
    ├─ [0] VM::assertEq(112000000000000000000 [1.12e20], 112000000000000000000 [1.12e20]) [staticcall]
    │   └─ ← [Return] 
    ├─ [651] PermitERC20Token::balanceOf(0xb0DeCe62711c7FFAF0b6564f3798174C2A19048F) [staticcall]
    │   └─ ← [Return] 888000000000000000000 [8.88e20]
    ├─ [0] VM::assertEq(888000000000000000000 [8.88e20], 888000000000000000000 [8.88e20]) [staticcall]
    │   └─ ← [Return] 
    └─ ← [Stop] 

Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 29.69ms (16.33ms CPU time)

Ran 1 test suite in 1.48s (29.69ms CPU time): 1 tests passed, 0 failed, 0 skipped (1 total tests)
